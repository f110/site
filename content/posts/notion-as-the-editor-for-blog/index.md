---
title: ブログエディタとしてのNotion
date: 2020-11-26T00:54:00+09:00
isCJKLanguage: true
tags: [Productivity]
---

最近このブログはNotionをエディタとして利用するようになった。

その背景や方法について簡単に紹介する。

# 背景

今までこのブログのエディタはPCだった。直接ファイルを編集しており、基本的にはPCがなければ書くことができなかった。

そのため何か書くためにはまず書くぞという意思が必要で簡単にサラッとは書けなかった。

この書くためのハードルは下げていきたかったのでエディタとしてNotionを使うことにした。動機としては他にもiPadを買ったこともある。

iPadはCellularモデルなのでどこでも使いやすい。なのでMacBook Proとかよりもより気軽に持ち運ぶことができる。（MacBook Proの場合は無線LANがある場所などに限られる）

# 方法

ブログ記事専用のデータベースがある。ここにどんどんページを作成していくだけになっている。

一方、データベースからサイトへの反映が多少面倒くさい。

まずそもそもこのブログがどういう仕組みになっているのか軽く説明する。

## コンテンツリポジトリとアセットリポジトリ

[コンテンツリポジトリ](https://github.com/f110/site)には記事の元ソースが入っている。

[アセットリポジトリ](https://github.com/f110/f110.jp)にはコンテンツリポジトリから生成された静的ファイルだけが入ってる。こっちのリポジトリがGitHub Pagesでホストされている。

## コンテンツの生成

Notion上で書かれたものをなんとかしてコンテンツリポジトリに入れる必要がある。

NotionにはページをMarkdownとしてエクスポートする機能があるのでこれを利用すればできるのだが、毎回手作業が必要になってしまう。
手作業は流石に面倒で、理想的にはデータベースの内容とコンテンツリポジトリの内容は自動でsyncして欲しい。

しかしNotionにはまだAPIがないので（バックログには載ってるらしいので実装を心待ちにしている）[非公式なライブラリ](https://github.com/kjk/notionapi)で強引にページを抜き出している。

データベースから記事を取得し、コンテンツリポジトリを[更新するコマンド](https://github.com/f110/site/blob/7d7c1322fbecbdb2a8db142ea87c3192edad81da/cmd/site/main.go#L1)を書いていて今は更新下いときにこれを手動で実行すると必要なファイルが作成されるのでそれをコミットしてる。

# キーボード

iPadのソフトウェアキーボードでタイピングし続けるのは苦痛だしめっちゃ遅いので外部キーボードを接続している。

Smart Keyboard Folioを買おうか迷ったけども、Folio単体で意外に重いということと例えキーボードを使わなかったとしても常についてるというのが邪魔と思って買わなかった。

キーボードは余っていたHHKB Hybridを必要に応じて一緒に持ち出すということにしている。

Keyboard FolioよりHHKBの方が重いが持ち出すのは必要な時だけなのと、常に分離しているのでiPadの機動性は失われておらず問題ない感じ。
